<div class="row align-items-end top-contents-container">
  <p style="color: green"><%= notice %></p>
  <div class="col-sm-10">
    <%= week_calendar(events: @articles, number_of_weeks: 4) do |date, articles| %>
      <div class="day">
        <%= date.day %>
        <% articles.each do |article| %>
          <div class="card-header">
            <h6 class="card-title">
              <% if article.people.any? %>
                <%= link_to "#{article.people.first.name}#{'...' if article.people.count > 1}", article %>
              <% else %>
                <%= link_to truncate(article.body, length: 10), article %>
              <% end %>
            </h6>
          </div>
        <% end %>
    <% end %>
  </div>
  <div class="col-sm-2 mb-3">
    <%= render "form", article: Article.new %>
  </div>
</div>

<div class="row">
  <div class="col-sm-2 mb-3">
    <%= render "people" %>
  </div>
  <div class="col-sm-4">
    <div class="card article-card">
      <div class="card-body">
        <% @articles.each do |article| %>
          <%= article.start_time&.strftime('%m月%d日') %>
          <%= truncate(article.body, length: 20) %>
          <br>
        <% end %>
      </div>
    </div>
  </div>
  <div class="col-sm-6 mb-3">
    <%= render "articles_list", articles: @articles %>
    <% if Rails.env == "development" %>
      <p>
        debug用に記事数を表示:<%= @number_of_articles %>
      </p>
    <% end %>
  </div>
</div>
